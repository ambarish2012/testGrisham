
# Language setting http://docs.shippable.com/ci/languages/node/
language: node_js

runtime:
  nodePool: default

node_js:
  - 8.2.1

# use this to control what branches get built.
# http://docs.shippable.com/ci/advancedOptions/branches/
branches:
  only:
    - master

build:
  pre_ci_boot:
    image_name: zephyrprojectrtos/ci
    image_tag: v0.3
    pull: true
    options: "--user buildslave -e HOME=/home/buildslave"

  # http://docs.shippable.com/ci/shippableyml/#ci
  ci:
    - echo $SHIPPABLE_BUILD_DIR
    - curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.8/install.sh | bash
    - . /home/newuser/.nvm/nvm.sh && nvm install 8.2.1 && nvm use 8.2.1 && cd $SHIPPABLE_BUILD_DIR && npm install
    - ls -al $SHIPPABLE_BUILD_DIR
